<% if (documentclass == 'lncs') { -%>
% Dieses Template wurde mit der "LLNCS DOCUMENT CLASS -- version 2.20 (10-Mar-2018)" getestet

<% } -%>
% !TeX spellcheck = de-DE
% !TeX encoding = utf8
% !TeX program = <%= latexcompiler %>
% !BIB program = <%= bibtextool %>
% -*- coding:utf-8 mod:LaTeX -*-
<% if (documentclass == 'scientific-thesis') { -%>

% The following package allows \\ at the title page
% For more information see https://github.com/latextemplates/scientific-thesis-cover/issues/4
\RequirePackage{kvoptions-patch}
<% } -%>

<% if (latexcompiler !== 'lualatex') { -%>
% Neue deutsche Trennmuster
% Siehe http://www.ctan.org/pkg/dehyph-exptl und http://projekte.dante.de/Trennmuster/WebHome
% Nur für pdflatex, nicht für lualatex
\RequirePackage[ngerman=ngerman-x-latest]{hyphsubst}
<% } -%>

<% if (documentclass == 'lncs') { -%>
\documentclass[ngerman,runningheads,a4paper]{llncs}[2018/03/10]
<% } else {-%>
\documentclass[
  % fontsize=11pt is the standard
  % ()Aus scrguide.pdf - der Dokumentation von KOMA-Script)
  % Nach DUDEN steht in Gliederungen, in denen ausschließlich arabische Ziffern für die Nummerierung
  % verwendet werden, am Ende der Gliederungsnummern kein abschließender Punkt
  % (siehe [DUD96, R3]). Wird hingegen innerhalb der Gliederung auch mit römischen Zahlen
  % oder Groß- oder Kleinbuchstaben gearbeitet, so steht am Ende aller Gliederungsnummern ein
  % abschließender Punkt (siehe [DUD96, R4])
  numbers=autoendperiod,
  ngerman,  % Neue deutsche Rechtschreibung; der Parameter wird an andere Pakete weiter gegeben
  a4paper,  % Standard format - only KOMAScript uses paper=a4 - https://tex.stackexchange.com/a/61044/9075
  twoside,  % we are optimizing for both screen and two-side printing. So the page numbers will jump, but the content is configured to stay in the middle (by using the geometry package)
  bibliography=totoc,
  %               idxtotoc,   % Index ins Inhaltsverzeichnis
  %               liststotoc, % List of X ins Inhaltsverzeichnis, mit liststotocnumbered werden die Abbildungsverzeichnisse nummeriert
  headsepline,
  cleardoublepage=empty,
  parskip=half,
  %               draft    % um zu sehen, wo noch nachgebessert werden muss - wichtig, da Bindungskorrektur mit drin
  draft=false
]{scrbook}
<% } -%>

<% if (latexcompiler == "pdflatex") { -%>
\usepackage{cmap}
<% } -%>

% backticks (`) werden als solches in verbatim-Umgebungen dargestellt
% Details unter:
%   - https://tex.stackexchange.com/a/341057/9075
%   - https://tex.stackexchange.com/a/47451/9075
%   - https://tex.stackexchange.com/a/166791/9075
\usepackage{upquote}

<%- include('babel.preamble.de.tex', this); %>
<%- include('url.preamble.de.tex', this); %>
<%- include('font.preamble.en.tex', this); %>
<%- include('microtype.preamble.de.tex', this); %>
\usepackage{graphicx}

<% if (enquotes == 'csquotes')  { %><%- include('csquotes.preamble.en.tex', this); %><% } -%>

% Diagonal lines in a table - http://tex.stackexchange.com/questions/17745/diagonal-lines-in-table-cell
% Slashbox is not available in texlive (due to licensing) and also gives bad results. This, we use diagbox
%\usepackage{diagbox}

<%# Required for package pdfcomment later -%>
\usepackage{xcolor}
<%- include('listings.preamble.de.tex', this); %>
<%- include('booktabs.preamble.en.tex', this); %>
<%- include('paralist.preamble.en.tex', this); %>
<% if (documentclass == 'lncs')  { %><%- include('floatflt.preamble.en.tex', this); %><% } -%>
<% if (todo == 'pdfcomment')  { %><%- include('pdfcomment.preamble.en.tex', this); %><% } -%>
<%- include('hyperref.preamble.en.tex', this); %>
<% if (cleveref) { %><%- include('cleveref.preamble.de.tex', this); %><% } -%>

<% if (useExampleEnvironment) { -%>
\usepackage{currfile}
\usepackage{tcolorbox}
\tcbuselibrary{listings}
<% } -%>
<% if (examples) { -%>

% For demonstration purposes only
% These packages can be removed when all examples have been deleted
\usepackage[math]{blindtext}
\usepackage{mwe}
% Required for hyphentation.example.en.tex
\usepackage{textcomp}
<% } -%>

\begin{document}

<% if (examples) { -%>
<%= heading1 %>{LaTeX Hinweise}
\label{chap:latexhints}

<% if (useExampleEnvironment) { -%>
% Benötigt für eine korrekte Darstellung der Hinweise im erzeugten PDF
\newcount\LTGbeginlineexample
\newcount\LTGendlineexample
\newenvironment{ltgexample}%
{\LTGbeginlineexample=\numexpr\inputlineno+1\relax}%
{%
\LTGendlineexample=\numexpr\inputlineno-1\relax%

\tcbinputlisting{%
  listing only,
  listing file=\currfilepath,
  colback=green!5!white,
  colframe=green!25,
  coltitle=black!90,
  coltext=black!90,
  left=8mm,
  title=Zugehöriger \LaTeX{}-Quelltext aus \texttt{\currfilepath},
  listing options={%
    language={[LaTeX]TeX},
    firstline=\the\LTGbeginlineexample,
    lastline=\the\LTGendlineexample,
    firstnumber=\the\LTGbeginlineexample,
    basewidth=.5em,
    aboveskip=0mm,
    belowskip=0mm,
    numbers=left,
    xleftmargin=0mm,
    numberstyle=\tiny,
    numbersep=8pt%
  }
}
}%
<% } -%>

Hier sollen allgemeine \LaTeX-Hinweise gegeben werden, damit man Minimalbeispiele vorliegen hat, um sofort loszulegen.

<%- include('paragraphs.example.de.tex', this); %>
<%- include('hyphenation.example.en.tex', this); %>
<% if (enquotes == 'csquotes')  { %><%- include('csquotes.example.en.tex', this); %><% } -%>
<% if (enquotes == 'plainlatex')  { %><%- include('plainlatex.enquotes.example.de.tex', this); %><% } -%>
<%- include('paralist.example.en.tex', this); %>
<%- include('figure.example.de.tex', this); %>
<%- include('listings.example.de.tex', this); %>
<%- include('tables.example.en.tex', this); %>
<% } -%>

\end{document}
